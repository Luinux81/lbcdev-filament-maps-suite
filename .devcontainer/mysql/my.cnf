[mysqld]
# --- Configuración de Caracteres ---
# utf8mb4 es el estándar de Laravel para soportar emojis y lenguajes modernos
character-set-server=utf8mb4
collation-server=utf8mb4_unicode_ci

# --- Seguridad y Autenticación ---
# Mantenemos compatibilidad, pero MySQL 8.4+ prefiere caching_sha2_password
default-authentication-plugin=mysql_native_password
skip-log-bin                       # Ahorra espacio en disco y CPU en desarrollo

# --- Rendimiento para Desarrollo ---
max_connections=100
innodb_buffer_pool_size=512M       # Subimos a 512M (PHP 8.3 y Laravel 11 lo agradecen)
innodb_log_file_size=128M          # Mayor tamaño ayuda en migraciones grandes o seeds
innodb_flush_log_at_trx_commit=2   # MEJORA CRUCIAL: Mucho más rápido para Tests y Seeds
innodb_doublewrite=0               # Acelera la escritura (seguro en entornos Docker de dev)

# --- Logs de Consultas Lentas ---
# Útil para detectar por qué ese componente del paquete tarda tanto
slow_query_log=1
long_query_time=1                  # Bajamos a 1 segundo para ser más estrictos
slow_query_log_file=/var/lib/mysql/slow.log

[client]
default-character-set=utf8mb4

[mysql]
default-character-set=utf8mb4